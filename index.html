<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense & Budget Tracker</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      font-family: Poppins, sans-serif;
      background: linear-gradient(135deg, #74ebd5, #9face6);
      margin: 0;
      padding: 20px;
    }
    header {
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .card {
      background: white;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    input, select, button {
      padding: 6px;
      margin: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 10px;
      overflow: hidden;
    }
    th, td {
      padding: 10px;
      text-align: center;
      border-bottom: 1px solid #ddd;
    }
    th {
      background: #f0f0f0;
    }
    .progress {
      background: #eee;
      border-radius: 10px;
      height: 25px;
      overflow: hidden;
      margin-top: 10px;
    }
    .progress-bar {
      height: 100%;
      text-align: center;
      color: white;
      line-height: 25px;
    }
    .layout {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1> Expense & Budget Tracker</h1>
  </header>

  <!-- Budget Section -->
  <div class="card">
    <label><b>Set Monthly Budget (‚Çπ):</b></label>
    <input type="number" id="budgetInput">
    <button onclick="setBudget()">Save Budget</button>

    <div class="progress">
      <div id="progressBar" class="progress-bar">0%</div>
    </div>
    <p id="budgetMsg">Set a budget to track your spending</p>
  </div>

  <!-- Add Expense Form -->
  <div class="card">
    <form id="expenseForm">
      <input name="title" placeholder="Expense Title" required>
      <input name="amount" type="number" placeholder="Amount" required>
      <select name="category" required>
        <option value="">Category</option>
        <option value="Food">ü•ó Food</option>
        <option value="Travel">‚úàÔ∏è Travel</option>
        <option value="Entertainment">üé¨ Entertainment</option>
        <option value="Shopping">üõçÔ∏è Shopping</option>
        <option value="Other">üí° Other</option>
      </select>
      <input name="date" type="date" required>
      <button type="submit">‚ûï Add Expense</button>
    </form>
  </div>

  <!-- Summary -->
  <div class="card">
    <b>Total Spent:</b> ‚Çπ<span id="totalSpent">0</span> |
    <b>Highest Category:</b> <span id="highestCategory">-</span>
  </div>

  <!-- Table + Chart -->
  <div class="layout">
    <!-- Table -->
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Amount</th>
          <th>Category</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody id="expenseTable"></tbody>
    </table>

    <!-- Chart -->
    <div class="card" style="text-align: center;">
      <h3>üìä Spending Breakdown</h3>
      <canvas id="pieChart" width="250" height="250"></canvas>
    </div>
  </div>

  <script>
    let expenses = [];
    let budget = 0;

    const expenseForm = document.getElementById("expenseForm");
    const expenseTable = document.getElementById("expenseTable");
    const totalSpentEl = document.getElementById("totalSpent");
    const highestCategoryEl = document.getElementById("highestCategory");
    const progressBar = document.getElementById("progressBar");
    const budgetMsg = document.getElementById("budgetMsg");

    // Chart.js setup
    const ctx = document.getElementById("pieChart").getContext("2d");
    const pieChart = new Chart(ctx, {
      type: "pie",
      data: {
        labels: [],
        datasets: [{
          data: [],
          backgroundColor: ["#0088FE", "#FF8042", "#00C49F", "#FFBB28", "#E91E63"]
        }]
      },
      options: {
        responsive: false,
        plugins: {
          legend: { position: "bottom" }
        }
      }
    });

    // Save budget
    function setBudget() {
      budget = parseFloat(document.getElementById("budgetInput").value) || 0;
      updateUI();
    }

    // Add expense
    expenseForm.addEventListener("submit", function(e) {
      e.preventDefault();
      const formData = new FormData(expenseForm);
      const newExpense = {
        title: formData.get("title"),
        amount: parseFloat(formData.get("amount")),
        category: formData.get("category"),
        date: formData.get("date")
      };
      expenses.push(newExpense);
      expenseForm.reset();
      updateUI();
    });

    // Update UI
    function updateUI() {
      // Table
      expenseTable.innerHTML = "";
      expenses.forEach(exp => {
        const row = `<tr>
          <td>${exp.title}</td>
          <td>‚Çπ${exp.amount}</td>
          <td>${exp.category}</td>
          <td>${exp.date}</td>
        </tr>`;
        expenseTable.innerHTML += row;
      });

      // Total
      const total = expenses.reduce((acc, exp) => acc + exp.amount, 0);
      totalSpentEl.textContent = total.toFixed(2);

      // Category totals
      const categoryTotals = {};
      expenses.forEach(exp => {
        categoryTotals[exp.category] = (categoryTotals[exp.category] || 0) + exp.amount;
      });

      // Highest category
      const sorted = Object.entries(categoryTotals).sort((a, b) => b[1] - a[1]);
      highestCategoryEl.textContent = sorted.length > 0 ? sorted[0][0] : "-";

      // Progress bar
      const percent = budget > 0 ? Math.min((total / budget) * 100, 100) : 0;
      let color = "green";
      if (percent >= 70 && percent < 100) color = "orange";
      if (percent >= 100) color = "red";
      progressBar.style.width = percent + "%";
      progressBar.style.background = color;
      progressBar.textContent = percent.toFixed(0) + "%";
      budgetMsg.textContent =
        budget > 0
          ? total > budget
            ? `‚ö†Ô∏è You exceeded your budget by ‚Çπ${(total - budget).toFixed(2)}`
            : `Remaining Budget: ‚Çπ${(budget - total).toFixed(2)}`
          : "Set a budget to track your spending";

      // Update chart
      pieChart.data.labels = Object.keys(categoryTotals);
      pieChart.data.datasets[0].data = Object.values(categoryTotals);
      pieChart.update();
    }
  </script>
</body>
</html>
<script src="script.js">
</script>

